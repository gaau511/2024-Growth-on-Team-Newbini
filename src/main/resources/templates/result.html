
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quiz</title>
    <style>
        /* CSS 스타일 */
        .quiz-container {
            max-width: 600px;
            margin: 0 auto;
            font-family: Arial, sans-serif;
        }

        .question {
            background-color: #ccccff;
            border: 4px solid #663399;
            border-radius: 30px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .answer-options {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .answer-options li {
            margin-bottom: 5px;
        }

        .answer-options input[type="radio"] {
            margin-right: 5px;
        }

        .answer {
            visibility: hidden;
        }

        .short-answer {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 14px;
        }
    </style>

</head>
<body>
<div class="quiz-container">
    <div th:each="question, iterStat : ${quiz.questions}">
        <div th:switch="${question.type}" class="question">
            <div th:case="'객관식'">
                <h3 class="question-text" th:text="${iterStat.count} + '. ' + ${question.question}"></h3>
                <ul class="answer-options">
                    <li th:each="option, optionStat : ${question.options}">
                        <input type="radio" th:value="${option}" th:id="${'q' + iterStat.count + '-' + optionStat.count}" th:name="${'q' + iterStat.count}"/>
                        <label th:for="${'q' + iterStat.count + '-' + optionStat.count}" th:text="${option}"></label>
                    </li>
                </ul>
                <div th:class="|answer answer-q${iterStat.count}|">
                    <span th:text="|정답 : ${question.answer}|">정답</span>
                </div>
            </div>
            <div th:case="'주관식'">
                <h3 class="question-text" th:text="${iterStat.count} + '. ' + ${question.question}"></h3>
                <input type="text" class="short-answer" />
                <span th:text="${question.answer}" style="display:none;"></span>
                <div th:class="|answer answer-q${iterStat.count}|">
                    <span th:text="|정답 : ${question.answer}|">정답</span>
                </div>
            </div>
            <div th:case="'O/X'">
                <h3 class="question-text" th:text="${iterStat.count} + '. ' + ${question.question}"></h3>
                <ul class="answer-options">
                    <li>
                        <input type="radio" th:id="${'q' + iterStat.count + '-true'}" th:name="'q' + ${iterStat.count}" value="true" />
                        <label th:for="${'q' + iterStat.count + '-true'}">O</label>
                    </li>
                    <li>
                        <input type="radio" th:id="${'q' + iterStat.count + '-false'}" th:name="'q' + ${iterStat.count}" value="false" />
                        <label th:for="${'q' + iterStat.count + '-false'}">X</label>
                    </li>
                </ul>
                <div th:class="|answer answer-q${iterStat.count}|">
                    <span th:text="|정답 : ${question.answer}|">정답</span>
                </div>
            </div>
        </div>
    </div>
    <button onclick="submit()">채점하기</button>
</div>

<script>
    function submit() {
  const answers = document.querySelectorAll('.answer');

  answers.forEach(answer => {
    answer.style.visibility = 'visible';
  });
}

</script>
</body>
</html>